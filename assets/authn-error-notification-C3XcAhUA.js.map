{"version":3,"mappings":"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","names":["UnknownErrorMessage","jsx","I18n","AlarmExistsMessage","CsrfLink","feature","Link","MisconfiguredPatreonClientMessage","jsxs","Fragment","mapAuthnErrorCodeToNotification","code","ErrorCode","mapHashToAuthnErrorCode","hash","result","groups","errorCode","isErrorCode","AUTHN_ERRORS_TRANSLATIONS","Locale","__vitePreload","AuthnErrorsTranslationsProvider","children","locale","useLocale","I18nProvider","_AuthnErrorNotification","__publicField","__privateAdd","_Header","_Message","__privateSet","Header","Message","Component","__privateGet","AuthnErrorNotification"],"ignoreList":[],"sources":["../../src/components/unknown-error-message.tsx","../../src/components/alarm-exists-message.tsx","../../src/components/csrf-link.tsx","../../src/components/misconfigured-patreon-client-message.tsx","../../src/utils/map-authn-error-code-to-notification.tsx","../../src/utils/map-hash-to-authn-error-code.ts","../../src/constants/authn-errors-translations.ts","../../src/features/authn-errors-translations-provider.tsx","../../src/features/authn-error-notification.tsx"],"sourcesContent":["import I18n from 'lazy-i18n';\nimport type { ReactElement } from 'react';\n\nexport function UnknownErrorMessage(): ReactElement {\n  return <I18n>An unknown error occurred.</I18n>;\n}\n","import I18n from 'lazy-i18n';\nimport type { ReactElement } from 'react';\n\nexport default function AlarmExistsMessage(): ReactElement {\n  return <I18n>The team has been notified. Please try again later.</I18n>;\n}\n","import I18n from 'lazy-i18n';\nimport type { ReactElement } from 'react';\nimport Link from '../modules/quisi/link.jsx';\n\ninterface Props {\n  readonly feature: string;\n}\n\nexport default function CsrfLink({ feature }: Props): ReactElement {\n  return (\n    <Link\n      feature={feature}\n      href=\"https://en.wikipedia.org/wiki/Cross-site_request_forgery\"\n      title=\"Cross-site request forgery - Wikipedia\"\n    >\n      <I18n>cross-site request forgery</I18n>\n    </Link>\n  );\n}\n","import I18n from 'lazy-i18n';\nimport type { ReactElement } from 'react';\nimport AlarmExistsMessage from './alarm-exists-message.jsx';\n\nexport default function MisconfiguredPatreonClientMessage(): ReactElement {\n  return (\n    <>\n      <I18n>Our Patreon client is misconfigured.</I18n>\n      <AlarmExistsMessage />\n    </>\n  );\n}\n","import { ErrorCode } from '@quisido/authn-shared';\nimport I18n from 'lazy-i18n';\nimport type { ReactElement } from 'react';\nimport AlarmExistsMessage from '../components/alarm-exists-message.jsx';\nimport CsrfLink from '../components/csrf-link.jsx';\nimport MisconfiguredPatreonClientMessage from '../components/misconfigured-patreon-client-message.jsx';\nimport { UnknownErrorMessage } from '../components/unknown-error-message.jsx';\nimport type Notification from '../types/notification.js';\n\nexport default function mapAuthnErrorCodeToNotification(\n  code: ErrorCode,\n): Pick<Notification, 'Header' | 'Message'> {\n  switch (code) {\n    case ErrorCode.CSRF:\n      return {\n        Header(): ReactElement {\n          return <I18n>Cross-site request forgery</I18n>;\n        },\n\n        Message(): ReactElement {\n          return (\n            <I18n>\n              The authentication attempt could not be trusted and was rejected.\n            </I18n>\n          );\n        },\n      };\n\n    case ErrorCode.InvalidAuthnUserIdsNamespace:\n      return {\n        Header(): ReactElement {\n          return <I18n>Invalid namespace</I18n>;\n        },\n\n        Message(): ReactElement {\n          return (\n            <>\n              <I18n>\n                Your session cannot currently be paired with your account.\n              </I18n>\n              <AlarmExistsMessage />\n            </>\n          );\n        },\n      };\n\n    case ErrorCode.InvalidCause:\n    case ErrorCode.Unknown:\n    case ErrorCode.UnknownCause:\n      return {\n        Message(): ReactElement {\n          return (\n            <>\n              <UnknownErrorMessage />\n              <AlarmExistsMessage />\n            </>\n          );\n        },\n      };\n\n    case ErrorCode.InvalidDatabase:\n      return {\n        Header(): ReactElement {\n          return <I18n>Invalid database</I18n>;\n        },\n\n        Message(): ReactElement {\n          return (\n            <>\n              <I18n>Your account information cannot currently be read.</I18n>\n              <AlarmExistsMessage />\n            </>\n          );\n        },\n      };\n\n    case ErrorCode.InvalidIsolateEnvironment:\n      return {\n        Header(): ReactElement {\n          return <I18n>Invalid isolate environment</I18n>;\n        },\n\n        Message(): ReactElement {\n          return (\n            <>\n              <I18n>The authentication service is offline.</I18n>\n              <AlarmExistsMessage />\n            </>\n          );\n        },\n      };\n\n    case ErrorCode.InvalidPatreonClientId:\n      return {\n        Header(): ReactElement {\n          return <I18n>Invalid client ID</I18n>;\n        },\n\n        Message(): ReactElement {\n          return (\n            <>\n              <I18n>Patreon rejected the authentication attempt.</I18n>\n              <AlarmExistsMessage />\n            </>\n          );\n        },\n      };\n\n    case ErrorCode.InvalidPatreonGrantCode:\n      return {\n        Header(): ReactElement {\n          return <I18n>Invalid grant code</I18n>;\n        },\n\n        Message(): ReactElement {\n          return <I18n>Patreon rejected the authentication attempt.</I18n>;\n        },\n      };\n\n    case ErrorCode.InvalidPatreonIdentityData:\n      return {\n        Header(): ReactElement {\n          return <I18n>Invalid identity data</I18n>;\n        },\n\n        Message(): ReactElement {\n          return (\n            <>\n              <I18n>\n                We were unable to view your Patreon account information.\n              </I18n>\n              <AlarmExistsMessage />\n            </>\n          );\n        },\n      };\n\n    case ErrorCode.InvalidPatreonOAuthClientId:\n      return {\n        Message: MisconfiguredPatreonClientMessage,\n\n        Header(): ReactElement {\n          return <I18n>Invalid client ID</I18n>;\n        },\n      };\n\n    case ErrorCode.InvalidPatreonOAuthClientSecret:\n      return {\n        Message: MisconfiguredPatreonClientMessage,\n\n        Header(): ReactElement {\n          return <I18n>Invalid client secret</I18n>;\n        },\n      };\n\n    case ErrorCode.InvalidPatreonOAuthHost:\n      return {\n        Message: MisconfiguredPatreonClientMessage,\n\n        Header(): ReactElement {\n          return <I18n>Invalid host</I18n>;\n        },\n      };\n\n    case ErrorCode.InvalidPatreonOAuthRedirectUri:\n      return {\n        Message: MisconfiguredPatreonClientMessage,\n\n        Header(): ReactElement {\n          return <I18n>Invalid redirect URI</I18n>;\n        },\n      };\n\n    case ErrorCode.InvalidUsageDataset:\n      return {\n        Header(): ReactElement {\n          return <I18n>Invalid dataset</I18n>;\n        },\n\n        Message(): ReactElement {\n          return (\n            <>\n              <I18n>Application usage cannot currently be tracked.</I18n>\n              <AlarmExistsMessage />\n            </>\n          );\n        },\n      };\n\n    case ErrorCode.MissingAuthnUserIdsNamespace:\n      return {\n        Header(): ReactElement {\n          return <I18n>Missing namespace</I18n>;\n        },\n\n        Message(): ReactElement {\n          return (\n            <>\n              <I18n>\n                Your session cannot currently be paired with your account.\n              </I18n>\n              <AlarmExistsMessage />\n            </>\n          );\n        },\n      };\n\n    case ErrorCode.MissingCookies:\n      return {\n        Message(): ReactElement {\n          return <I18n>You must enable cookies to authenticate.</I18n>;\n        },\n      };\n\n    case ErrorCode.MissingDatabase:\n      return {\n        Header(): ReactElement {\n          return <I18n>Missing database</I18n>;\n        },\n\n        Message(): ReactElement {\n          return (\n            <>\n              <I18n>Your account information cannot currently be read.</I18n>\n              <AlarmExistsMessage />\n            </>\n          );\n        },\n      };\n\n    case ErrorCode.MissingIsolateEnvironment:\n      return {\n        Header(): ReactElement {\n          return <I18n>Missing isolate environment</I18n>;\n        },\n\n        Message(): ReactElement {\n          return (\n            <>\n              <I18n>The authentication service is offline.</I18n>\n              <AlarmExistsMessage />\n            </>\n          );\n        },\n      };\n\n    case ErrorCode.MissingPatreonAccessToken:\n      return {\n        Header(): ReactElement {\n          return <I18n>Missing access token</I18n>;\n        },\n\n        Message(): ReactElement {\n          return (\n            <>\n              <I18n>Patreon did not provide an access token.</I18n>\n              <AlarmExistsMessage />\n            </>\n          );\n        },\n      };\n\n    case ErrorCode.MissingPatreonIdentityData:\n      return {\n        Header(): ReactElement {\n          return <I18n>Missing identity data</I18n>;\n        },\n\n        Message(): ReactElement {\n          return (\n            <>\n              <I18n>\n                We were unable to view your Patreon account information.\n              </I18n>\n              <AlarmExistsMessage />\n            </>\n          );\n        },\n      };\n\n    case ErrorCode.MissingPatreonIdentityId:\n      return {\n        Header(): ReactElement {\n          return <I18n>Missing ID</I18n>;\n        },\n\n        Message(): ReactElement {\n          return (\n            <>\n              <I18n>Patreon did not provide your ID.</I18n>\n              <AlarmExistsMessage />\n            </>\n          );\n        },\n      };\n\n    case ErrorCode.MissingPatreonOAuthClientSecret:\n      return {\n        Message: MisconfiguredPatreonClientMessage,\n\n        Header(): ReactElement {\n          return <I18n>Missing client secret</I18n>;\n        },\n      };\n\n    case ErrorCode.MissingPatreonRequestCode:\n      return {\n        Header(): ReactElement {\n          return <I18n>Missing code</I18n>;\n        },\n\n        Message(): ReactElement {\n          return <I18n>Your authentication request lacked a code.</I18n>;\n        },\n      };\n\n    case ErrorCode.MissingPatreonTokenErrorResponseBody:\n    case ErrorCode.MissingPatreonTokenErrorResponseCode:\n      return {\n        Header: UnknownErrorMessage,\n\n        Message(): ReactElement {\n          return (\n            <>\n              <I18n>\n                Patreon refused to issue an access token, but did not disclose\n                why.\n              </I18n>\n              <AlarmExistsMessage />\n            </>\n          );\n        },\n      };\n\n    case ErrorCode.MissingSessionIdCookie:\n      return {\n        Header(): ReactElement {\n          return <I18n>Missing session ID cookie</I18n>;\n        },\n\n        Message(): ReactElement {\n          return (\n            <I18n\n              csrf={\n                <CsrfLink feature=\"authn-error-code/messing-session-id-cookie\" />\n              }\n            >\n              Ensure cookies are enabled. To prevent $csrf, authentication\n              requires visiting this website first.\n            </I18n>\n          );\n        },\n      };\n\n    case ErrorCode.MissingStateSessionId:\n      return {\n        Header(): ReactElement {\n          return <I18n>Missing state</I18n>;\n        },\n\n        Message(): ReactElement {\n          return (\n            <I18n\n              csrf={\n                <CsrfLink feature=\"authn-error-code/missing-state-session-id\" />\n              }\n            >\n              To prevent $csrf, authentication must originate from this website.\n            </I18n>\n          );\n        },\n      };\n\n    case ErrorCode.NonObjectState:\n      return {\n        Header(): ReactElement {\n          return <I18n>Invalid state</I18n>;\n        },\n\n        Message(): ReactElement {\n          return (\n            <I18n\n              csrf={<CsrfLink feature=\"authn-error-code/non-object-state\" />}\n            >\n              To prevent $csrf, authentication must originate from this website.\n            </I18n>\n          );\n        },\n      };\n\n    case ErrorCode.InvalidPatreonTokenErrorResponse:\n    case ErrorCode.InvalidPatreonTokenErrorResponseBody:\n      return {\n        Header(): ReactElement {\n          return <I18n>Invalid response</I18n>;\n        },\n\n        Message(): ReactElement {\n          return (\n            <>\n              <I18n>\n                Patreon refused to issue an access token, but did not disclose\n                why.\n              </I18n>\n              <AlarmExistsMessage />\n            </>\n          );\n        },\n      };\n    case ErrorCode.NotFound:\n      return {\n        Header(): ReactElement {\n          return <I18n>Not found</I18n>;\n        },\n\n        Message(): ReactElement {\n          return <I18n>The URL you requested does not exist.</I18n>;\n        },\n      };\n\n    case ErrorCode.TooManyRequests:\n      return {\n        Header(): ReactElement {\n          return <I18n>Too many requests</I18n>;\n        },\n\n        Message(): ReactElement {\n          return <I18n>Your authentication attempt was throttled.</I18n>;\n        },\n      };\n\n    default:\n      return {\n        Message: UnknownErrorMessage,\n      };\n  }\n}\n","import { ErrorCode, isErrorCode } from '@quisido/authn-shared';\n\nexport default function mapHashToAuthnErrorCode(\n  hash: string,\n): ErrorCode | null {\n  const result: RegExpExecArray | null =\n    /^#authn:error=(?<errorCode>\\d+)$/u.exec(hash);\n  if (result === null) {\n    return null;\n  }\n\n  const { groups } = result;\n\n  // Impossible. 😡\n  if (typeof groups === 'undefined') {\n    throw new Error('Expected groups.');\n  }\n\n  const { errorCode } = groups;\n  if (isErrorCode(errorCode)) {\n    return errorCode;\n  }\n\n  return null;\n}\n","import { type Translations } from 'lazy-i18n';\nimport Locale from '../constants/locale.js';\nexport default {\n  [Locale.English]: async (): Promise<{ default: Record<string, string> }> =>\n    import('../translations/authn-errors--en-US.json'),\n\n  [Locale.Arabic]: async (): Promise<{ default: Record<string, string> }> =>\n    import('../translations/authn-errors--ar-EG.json'),\n\n  [Locale.Filipino]: async (): Promise<{ default: Record<string, string> }> =>\n    import('../translations/authn-errors--fil-PH.json'),\n\n  [Locale.Japanese]: async (): Promise<{ default: Record<string, string> }> =>\n    import('../translations/authn-errors--ja-JP.json'),\n\n  [Locale.Spanish]: async (): Promise<{ default: Record<string, string> }> =>\n    import('../translations/authn-errors--es-ES.json'),\n} satisfies Record<Locale, Translations>;\n","import { I18nProvider } from 'lazy-i18n';\nimport type { PropsWithChildren, ReactElement } from 'react';\nimport AUTHN_ERRORS_TRANSLATIONS from '../constants/authn-errors-translations.js';\nimport { useLocale } from '../contexts/locale.js';\n\nexport default function AuthnErrorsTranslationsProvider({\n  children,\n}: PropsWithChildren): ReactElement {\n  // Contexts\n  const [locale] = useLocale();\n\n  return (\n    <I18nProvider locale={locale} translations={AUTHN_ERRORS_TRANSLATIONS}>\n      {children}\n    </I18nProvider>\n  );\n}\n","import { type ErrorCode } from '@quisido/authn-shared';\nimport { type ComponentType, type ReactElement } from 'react';\nimport { UnknownErrorMessage } from '../components/unknown-error-message.jsx';\nimport { type NoActionNotification } from '../types/notification.js';\nimport mapAuthnErrorCodeToNotification from '../utils/map-authn-error-code-to-notification.jsx';\nimport mapHashToAuthnErrorCode from '../utils/map-hash-to-authn-error-code';\nimport AuthnErrorsTranslationsProvider from './authn-errors-translations-provider.jsx';\n\nexport default class AuthnErrorNotification implements NoActionNotification {\n  public readonly icon = '⚠️';\n\n  readonly #Header: ComponentType | undefined;\n\n  readonly #Message: ComponentType;\n\n  public readonly type = 'error';\n\n  public constructor(code: ErrorCode | null) {\n    /**\n     *   This should only happen if the user manually entered an invalid error\n     * code into their address bar.\n     */\n    if (code === null) {\n      this.#Message = UnknownErrorMessage;\n    } else {\n      const { Header, Message } = mapAuthnErrorCodeToNotification(code);\n      this.#Message = Message;\n      if (typeof Header !== 'undefined') {\n        this.#Header = Header;\n      }\n    }\n  }\n\n  public get Header(): ComponentType | undefined {\n    const Component: ComponentType | undefined = this.#Header;\n    if (typeof Component === 'undefined') {\n      return;\n    }\n\n    return function HeaderImpl(): ReactElement {\n      return (\n        <AuthnErrorsTranslationsProvider>\n          <Component />\n        </AuthnErrorsTranslationsProvider>\n      );\n    };\n  }\n\n  public Message(): ReactElement {\n    const Component: ComponentType = this.#Message;\n    return (\n      <AuthnErrorsTranslationsProvider>\n        <Component />\n      </AuthnErrorsTranslationsProvider>\n    );\n  }\n\n  public static fromHash(hash: string): AuthnErrorNotification {\n    const code: ErrorCode | null = mapHashToAuthnErrorCode(hash);\n    return new AuthnErrorNotification(code);\n  }\n}\n"],"file":"assets/authn-error-notification-C3XcAhUA.js"}