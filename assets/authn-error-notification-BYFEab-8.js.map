{"version":3,"mappings":"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","names":["UnknownErrorMessage","jsx","I18n","AlarmExistsMessage","CsrfLink","feature","Link","MisconfiguredPatreonClientMessage","jsxs","Fragment","mapAuthnErrorCodeToNotification","code","ErrorCode","mapHashToAuthnErrorCode","hash","result","groups","errorCode","isErrorCode","AUTHN_ERRORS_TRANSLATIONS","Locale","__vitePreload","AuthnErrorsTranslationsProvider","children","locale","useLocale","I18nProvider","AuthnErrorNotification","#Header","#Message","Header","Message","Component"],"ignoreList":[],"sources":["../../src/components/unknown-error-message.tsx","../../src/components/alarm-exists-message.tsx","../../src/components/csrf-link.tsx","../../src/components/misconfigured-patreon-client-message.tsx","../../src/utils/map-authn-error-code-to-notification.tsx","../../src/utils/map-hash-to-authn-error-code.ts","../../src/constants/authn-errors-translations.ts","../../src/features/authn-errors-translations-provider.tsx","../../src/features/authn-error-notification.tsx"],"sourcesContent":["import I18n from 'lazy-i18n';\nimport { type ReactElement } from 'react';\n\nexport function UnknownErrorMessage(): ReactElement {\n  return <I18n>An unknown error occurred.</I18n>;\n}\n","import I18n from 'lazy-i18n';\nimport { type ReactElement } from 'react';\n\nexport default function AlarmExistsMessage(): ReactElement {\n  return <I18n>The team has been notified. Please try again later.</I18n>;\n}\n","import I18n from 'lazy-i18n';\nimport { type ReactElement } from 'react';\nimport Link from '../modules/quisi/link.jsx';\n\ninterface Props {\n  readonly feature: string;\n}\n\nexport default function CsrfLink({ feature }: Props): ReactElement {\n  return (\n    <Link\n      feature={feature}\n      href=\"https://en.wikipedia.org/wiki/Cross-site_request_forgery\"\n      title=\"Cross-site request forgery - Wikipedia\"\n    >\n      <I18n>cross-site request forgery</I18n>\n    </Link>\n  );\n}\n","import I18n from 'lazy-i18n';\nimport { type ReactElement } from 'react';\nimport AlarmExistsMessage from './alarm-exists-message.jsx';\n\nexport default function MisconfiguredPatreonClientMessage(): ReactElement {\n  return (\n    <>\n      <I18n>Our Patreon client is misconfigured.</I18n>\n      <AlarmExistsMessage />\n    </>\n  );\n}\n","import { ErrorCode } from '@quisido/authn-shared';\nimport I18n from 'lazy-i18n';\nimport { type ReactElement } from 'react';\nimport AlarmExistsMessage from '../components/alarm-exists-message.jsx';\nimport CsrfLink from '../components/csrf-link.jsx';\nimport MisconfiguredPatreonClientMessage from '../components/misconfigured-patreon-client-message.jsx';\nimport { UnknownErrorMessage } from '../components/unknown-error-message.jsx';\nimport type Notification from '../types/notification.js';\n\nexport default function mapAuthnErrorCodeToNotification(\n  code: ErrorCode,\n): Pick<Notification, 'Header' | 'Message'> {\n  switch (code) {\n    case ErrorCode.CSRF:\n      return {\n        Header(): ReactElement {\n          return <I18n>Cross-site request forgery</I18n>;\n        },\n\n        Message(): ReactElement {\n          return (\n            <I18n>\n              The authentication attempt could not be trusted and was rejected.\n            </I18n>\n          );\n        },\n      };\n\n    case ErrorCode.InvalidAuthnUserIdsNamespace:\n      return {\n        Header(): ReactElement {\n          return <I18n>Invalid namespace</I18n>;\n        },\n\n        Message(): ReactElement {\n          return (\n            <>\n              <I18n>\n                Your session cannot currently be paired with your account.\n              </I18n>\n              <AlarmExistsMessage />\n            </>\n          );\n        },\n      };\n\n    case ErrorCode.InvalidCause:\n    case ErrorCode.Unknown:\n    case ErrorCode.UnknownCause:\n      return {\n        Message(): ReactElement {\n          return (\n            <>\n              <UnknownErrorMessage />\n              <AlarmExistsMessage />\n            </>\n          );\n        },\n      };\n\n    case ErrorCode.InvalidDatabase:\n      return {\n        Header(): ReactElement {\n          return <I18n>Invalid database</I18n>;\n        },\n\n        Message(): ReactElement {\n          return (\n            <>\n              <I18n>Your account information cannot currently be read.</I18n>\n              <AlarmExistsMessage />\n            </>\n          );\n        },\n      };\n\n    case ErrorCode.InvalidIsolateEnvironment:\n      return {\n        Header(): ReactElement {\n          return <I18n>Invalid isolate environment</I18n>;\n        },\n\n        Message(): ReactElement {\n          return (\n            <>\n              <I18n>The authentication service is offline.</I18n>\n              <AlarmExistsMessage />\n            </>\n          );\n        },\n      };\n\n    case ErrorCode.InvalidPatreonClientId:\n      return {\n        Header(): ReactElement {\n          return <I18n>Invalid client ID</I18n>;\n        },\n\n        Message(): ReactElement {\n          return (\n            <>\n              <I18n>Patreon rejected the authentication attempt.</I18n>\n              <AlarmExistsMessage />\n            </>\n          );\n        },\n      };\n\n    case ErrorCode.InvalidPatreonGrantCode:\n      return {\n        Header(): ReactElement {\n          return <I18n>Invalid grant code</I18n>;\n        },\n\n        Message(): ReactElement {\n          return <I18n>Patreon rejected the authentication attempt.</I18n>;\n        },\n      };\n\n    case ErrorCode.InvalidPatreonIdentityData:\n      return {\n        Header(): ReactElement {\n          return <I18n>Invalid identity data</I18n>;\n        },\n\n        Message(): ReactElement {\n          return (\n            <>\n              <I18n>\n                We were unable to view your Patreon account information.\n              </I18n>\n              <AlarmExistsMessage />\n            </>\n          );\n        },\n      };\n\n    case ErrorCode.InvalidPatreonOAuthClientId:\n      return {\n        Header(): ReactElement {\n          return <I18n>Invalid client ID</I18n>;\n        },\n        Message: MisconfiguredPatreonClientMessage,\n      };\n\n    case ErrorCode.InvalidPatreonOAuthClientSecret:\n      return {\n        Header(): ReactElement {\n          return <I18n>Invalid client secret</I18n>;\n        },\n        Message: MisconfiguredPatreonClientMessage,\n      };\n\n    case ErrorCode.InvalidPatreonOAuthHost:\n      return {\n        Header(): ReactElement {\n          return <I18n>Invalid host</I18n>;\n        },\n        Message: MisconfiguredPatreonClientMessage,\n      };\n\n    case ErrorCode.InvalidPatreonOAuthRedirectUri:\n      return {\n        Header(): ReactElement {\n          return <I18n>Invalid redirect URI</I18n>;\n        },\n        Message: MisconfiguredPatreonClientMessage,\n      };\n\n    case ErrorCode.InvalidUsageDataset:\n      return {\n        Header(): ReactElement {\n          return <I18n>Invalid dataset</I18n>;\n        },\n\n        Message(): ReactElement {\n          return (\n            <>\n              <I18n>Application usage cannot currently be tracked.</I18n>\n              <AlarmExistsMessage />\n            </>\n          );\n        },\n      };\n\n    case ErrorCode.MissingAuthnUserIdsNamespace:\n      return {\n        Header(): ReactElement {\n          return <I18n>Missing namespace</I18n>;\n        },\n\n        Message(): ReactElement {\n          return (\n            <>\n              <I18n>\n                Your session cannot currently be paired with your account.\n              </I18n>\n              <AlarmExistsMessage />\n            </>\n          );\n        },\n      };\n\n    case ErrorCode.MissingCookies:\n      return {\n        Message(): ReactElement {\n          return <I18n>You must enable cookies to authenticate.</I18n>;\n        },\n      };\n\n    case ErrorCode.MissingDatabase:\n      return {\n        Header(): ReactElement {\n          return <I18n>Missing database</I18n>;\n        },\n\n        Message(): ReactElement {\n          return (\n            <>\n              <I18n>Your account information cannot currently be read.</I18n>\n              <AlarmExistsMessage />\n            </>\n          );\n        },\n      };\n\n    case ErrorCode.MissingIsolateEnvironment:\n      return {\n        Header(): ReactElement {\n          return <I18n>Missing isolate environment</I18n>;\n        },\n\n        Message(): ReactElement {\n          return (\n            <>\n              <I18n>The authentication service is offline.</I18n>\n              <AlarmExistsMessage />\n            </>\n          );\n        },\n      };\n\n    case ErrorCode.MissingPatreonAccessToken:\n      return {\n        Header(): ReactElement {\n          return <I18n>Missing access token</I18n>;\n        },\n\n        Message(): ReactElement {\n          return (\n            <>\n              <I18n>Patreon did not provide an access token.</I18n>\n              <AlarmExistsMessage />\n            </>\n          );\n        },\n      };\n\n    case ErrorCode.MissingPatreonIdentityData:\n      return {\n        Header(): ReactElement {\n          return <I18n>Missing identity data</I18n>;\n        },\n\n        Message(): ReactElement {\n          return (\n            <>\n              <I18n>\n                We were unable to view your Patreon account information.\n              </I18n>\n              <AlarmExistsMessage />\n            </>\n          );\n        },\n      };\n\n    case ErrorCode.MissingPatreonIdentityId:\n      return {\n        Header(): ReactElement {\n          return <I18n>Missing ID</I18n>;\n        },\n\n        Message(): ReactElement {\n          return (\n            <>\n              <I18n>Patreon did not provide your ID.</I18n>\n              <AlarmExistsMessage />\n            </>\n          );\n        },\n      };\n\n    case ErrorCode.MissingPatreonOAuthClientSecret:\n      return {\n        Header(): ReactElement {\n          return <I18n>Missing client secret</I18n>;\n        },\n        Message: MisconfiguredPatreonClientMessage,\n      };\n\n    case ErrorCode.MissingPatreonRequestCode:\n      return {\n        Header(): ReactElement {\n          return <I18n>Missing code</I18n>;\n        },\n\n        Message(): ReactElement {\n          return <I18n>Your authentication request lacked a code.</I18n>;\n        },\n      };\n\n    case ErrorCode.MissingPatreonTokenErrorResponseBody:\n    case ErrorCode.MissingPatreonTokenErrorResponseCode:\n      return {\n        Header: UnknownErrorMessage,\n\n        Message(): ReactElement {\n          return (\n            <>\n              <I18n>\n                Patreon refused to issue an access token, but did not disclose\n                why.\n              </I18n>\n              <AlarmExistsMessage />\n            </>\n          );\n        },\n      };\n\n    case ErrorCode.MissingSessionIdCookie:\n      return {\n        Header(): ReactElement {\n          return <I18n>Missing session ID cookie</I18n>;\n        },\n\n        Message(): ReactElement {\n          return (\n            <I18n\n              csrf={\n                <CsrfLink feature=\"authn-error-code/messing-session-id-cookie\" />\n              }\n            >\n              Ensure cookies are enabled. To prevent $csrf, authentication\n              requires visiting this website first.\n            </I18n>\n          );\n        },\n      };\n\n    case ErrorCode.MissingStateSessionId:\n      return {\n        Header(): ReactElement {\n          return <I18n>Missing state</I18n>;\n        },\n\n        Message(): ReactElement {\n          return (\n            <I18n\n              csrf={\n                <CsrfLink feature=\"authn-error-code/missing-state-session-id\" />\n              }\n            >\n              To prevent $csrf, authentication must originate from this website.\n            </I18n>\n          );\n        },\n      };\n\n    case ErrorCode.NonObjectState:\n      return {\n        Header(): ReactElement {\n          return <I18n>Invalid state</I18n>;\n        },\n\n        Message(): ReactElement {\n          return (\n            <I18n\n              csrf={<CsrfLink feature=\"authn-error-code/non-object-state\" />}\n            >\n              To prevent $csrf, authentication must originate from this website.\n            </I18n>\n          );\n        },\n      };\n\n    case ErrorCode.InvalidPatreonTokenErrorResponse:\n    case ErrorCode.InvalidPatreonTokenErrorResponseBody:\n      return {\n        Header(): ReactElement {\n          return <I18n>Invalid response</I18n>;\n        },\n\n        Message(): ReactElement {\n          return (\n            <>\n              <I18n>\n                Patreon refused to issue an access token, but did not disclose\n                why.\n              </I18n>\n              <AlarmExistsMessage />\n            </>\n          );\n        },\n      };\n    case ErrorCode.NotFound:\n      return {\n        Header(): ReactElement {\n          return <I18n>Not found</I18n>;\n        },\n\n        Message(): ReactElement {\n          return <I18n>The URL you requested does not exist.</I18n>;\n        },\n      };\n\n    case ErrorCode.TooManyRequests:\n      return {\n        Header(): ReactElement {\n          return <I18n>Too many requests</I18n>;\n        },\n\n        Message(): ReactElement {\n          return <I18n>Your authentication attempt was throttled.</I18n>;\n        },\n      };\n\n    default:\n      return {\n        Message: UnknownErrorMessage,\n      };\n  }\n}\n","import { type ErrorCode, isErrorCode } from '@quisido/authn-shared';\n\nexport default function mapHashToAuthnErrorCode(\n  hash: string,\n): ErrorCode | null {\n  const result: RegExpExecArray | null =\n    /^#authn:error=(?<errorCode>\\d+)$/u.exec(hash);\n  if (result === null) {\n    return null;\n  }\n\n  const { groups } = result;\n\n  // Impossible. üò°\n  if (typeof groups === 'undefined') {\n    throw new Error('Expected groups.');\n  }\n\n  const { errorCode } = groups;\n  if (isErrorCode(errorCode)) {\n    return errorCode;\n  }\n\n  return null;\n}\n","import { type Translations } from 'lazy-i18n';\nimport Locale from '../constants/locale.js';\n\nexport const AUTHN_ERRORS_TRANSLATIONS: Record<Locale, Translations> = {\n  [Locale.English]: async (): Promise<{ default: Record<string, string> }> =>\n    import('../translations/authn-errors--en-US.json'),\n\n  [Locale.Arabic]: async (): Promise<{ default: Record<string, string> }> =>\n    import('../translations/authn-errors--ar-EG.json'),\n\n  [Locale.Filipino]: async (): Promise<{ default: Record<string, string> }> =>\n    import('../translations/authn-errors--fil-PH.json'),\n\n  [Locale.Japanese]: async (): Promise<{ default: Record<string, string> }> =>\n    import('../translations/authn-errors--ja-JP.json'),\n\n  [Locale.Spanish]: async (): Promise<{ default: Record<string, string> }> =>\n    import('../translations/authn-errors--es-ES.json'),\n};\n","import { I18nProvider } from 'lazy-i18n';\nimport { type PropsWithChildren, type ReactElement } from 'react';\nimport { AUTHN_ERRORS_TRANSLATIONS } from '../constants/authn-errors-translations.js';\nimport { useLocale } from '../contexts/locale.js';\n\nexport default function AuthnErrorsTranslationsProvider({\n  children,\n}: PropsWithChildren): ReactElement {\n  // Contexts\n  const [locale] = useLocale();\n\n  return (\n    <I18nProvider locale={locale} translations={AUTHN_ERRORS_TRANSLATIONS}>\n      {children}\n    </I18nProvider>\n  );\n}\n","import { type ErrorCode } from '@quisido/authn-shared';\nimport { type ComponentType, type ReactElement } from 'react';\nimport { UnknownErrorMessage } from '../components/unknown-error-message.jsx';\nimport { type NoActionNotification } from '../types/notification.js';\nimport mapAuthnErrorCodeToNotification from '../utils/map-authn-error-code-to-notification.jsx';\nimport mapHashToAuthnErrorCode from '../utils/map-hash-to-authn-error-code';\nimport AuthnErrorsTranslationsProvider from './authn-errors-translations-provider.jsx';\n\nexport default class AuthnErrorNotification implements NoActionNotification {\n  public readonly icon = '‚ö†Ô∏è';\n\n  readonly #Header: ComponentType | undefined;\n\n  readonly #Message: ComponentType;\n\n  public readonly type = 'error';\n\n  public constructor(code: ErrorCode | null) {\n    /**\n     *   This should only happen if the user manually entered an invalid error\n     * code into their address bar.\n     */\n    if (code === null) {\n      this.#Message = UnknownErrorMessage;\n    } else {\n      const { Header, Message } = mapAuthnErrorCodeToNotification(code);\n      this.#Message = Message;\n      if (typeof Header !== 'undefined') {\n        this.#Header = Header;\n      }\n    }\n  }\n\n  public get Header(): ComponentType | undefined {\n    const Component: ComponentType | undefined = this.#Header;\n    if (typeof Component === 'undefined') {\n      return;\n    }\n\n    return function HeaderImpl(): ReactElement {\n      return (\n        <AuthnErrorsTranslationsProvider>\n          <Component />\n        </AuthnErrorsTranslationsProvider>\n      );\n    };\n  }\n\n  public Message(): ReactElement {\n    const Component: ComponentType = this.#Message;\n    return (\n      <AuthnErrorsTranslationsProvider>\n        <Component />\n      </AuthnErrorsTranslationsProvider>\n    );\n  }\n\n  public static fromHash(hash: string): AuthnErrorNotification {\n    const code: ErrorCode | null = mapHashToAuthnErrorCode(hash);\n    return new AuthnErrorNotification(code);\n  }\n}\n"],"file":"authn-error-notification-BYFEab-8.js"}